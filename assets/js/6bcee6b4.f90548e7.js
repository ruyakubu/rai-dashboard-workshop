"use strict";(self.webpackChunkrai_workshop=self.webpackChunkrai_workshop||[]).push([[811],{3905:(e,t,r)=>{r.d(t,{Zo:()=>h,kt:()=>m});var a=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):n(n({},t),e)),r},h=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,h=s(e,["components","mdxType","originalType","parentName"]),d=c(r),p=o,m=d["".concat(l,".").concat(p)]||d[p]||u[p]||i;return r?a.createElement(m,n(n({ref:t},h),{},{components:r})):a.createElement(m,n({ref:t},h))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,n=new Array(i);n[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,n[1]=s;for(var c=2;c<i;c++)n[c]=r[c];return a.createElement.apply(null,n)}return a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},6333:(e,t,r)=>{r.r(t),r.d(t,{contentTitle:()=>n,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var a=r(7462),o=(r(7294),r(3905));const i={title:"Analyze feature cohorts",sidebar_position:1,slug:"/analyze-feature-cohort"},n="Feature Cohort",s={unversionedId:"lab2-model-overview/analyze-feature-cohort",id:"lab2-model-overview/analyze-feature-cohort",isDocsHomePage:!1,title:"Analyze feature cohorts",description:"The RAI dashboard helps data scientist or AI developers examine the model performance across different cohorts within a given feature as well. Whether it is one feature, or a combination of two features, the RAI dashboard has built-in intelligence to divided feature values into various meaningful cohorts for users to do feature-based analysis and compare where the model is not doing well.  Since the cohort with the highest error has patients with the number of Prior_Inpatient > 0 days, taking a closer look at the \u201cPrior_Inpatient\u201d will help isolate where there are issues.",source:"@site/docs/lab2-model-overview/analyze-feature-cohort.md",sourceDirName:"lab2-model-overview",slug:"/analyze-feature-cohort",permalink:"/rai-dashboard-workshop/docs/analyze-feature-cohort",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/lab2-model-overview/analyze-feature-cohort.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Analyze feature cohorts",sidebar_position:1,slug:"/analyze-feature-cohort"},sidebar:"tutorialSidebar",previous:{title:"Analyze dataset cohort",permalink:"/rai-dashboard-workshop/docs/analyze-dataset-cohort"},next:{title:"Data Analysis chart view",permalink:"/rai-dashboard-workshop/docs/data-analysis-chart-view"}},l=[{value:"Feature probability distribution",id:"feature-probability-distribution",children:[]},{value:"Feature Metrics visualizations",id:"feature-metrics-visualizations",children:[]}],c={toc:l},h="wrapper";function d(e){let{components:t,...i}=e;return(0,o.kt)(h,(0,a.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"feature-cohort"},"Feature Cohort"),(0,o.kt)("p",null,"The RAI dashboard helps data scientist or AI developers examine the model performance across different cohorts within a given feature as well. Whether it is one feature, or a combination of two features, the RAI dashboard has built-in intelligence to divided feature values into various meaningful cohorts for users to do feature-based analysis and compare where the model is not doing well.  Since the cohort with the highest error has patients with the number of ",(0,o.kt)("em",{parentName:"p"},"Prior_Inpatient > 0")," days, taking a closer look at the ",(0,o.kt)("em",{parentName:"p"},"\u201cPrior_Inpatient\u201d")," will help isolate where there are issues.  "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Click on the Feature Cohorts tab."),(0,o.kt)("li",{parentName:"ol"},'Under the "Feature(s)" drop-down menu, scroll down the list and select the "prior_inpatient" checkbox. This will display 3 different feature cohorts and the model performance metrics.')),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"feature cohort metrics",src:r(4169).Z,title:"Feature cohort metrics"})),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"The ",(0,o.kt)("em",{parentName:"li"},"prior_inpatient < 3")," cohort has a sample size of 943. This means a majority of patients in the test data were hospitalized less than 3 times in the past. The model's accuracy rate for this cohort is 0.838, which is good. "),(0,o.kt)("li",{parentName:"ol"},"Only 39 patients from the test data fall in the ",(0,o.kt)("em",{parentName:"li"},"prior_inpatient \u2265 3 and < 6")," cohort. The model's accuracy rate is 0.692, which is not good. "),(0,o.kt)("li",{parentName:"ol"},"Lastly, just 12 patients from the test data have a prior hospitalization greater than or equal to 6 days. The model accuracy of 0.75 for this cohort is ok.")),(0,o.kt)("h2",{id:"feature-probability-distribution"},"Feature probability distribution"),(0,o.kt)("p",null,"Similar to the Dataset cohort, you have the ability to view the \u201cProbability Distribution\u201d. "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"You can see that the lesser the diabetic patient\u2019s number of prior_inpatient hospitalizations, the more likely the patient was not going to be readmitted in 30 days. This makes sense, because if a patient is more prone to be hospitalized in the past, it\u2019s fair to assume that they get sick a lot which requires them to get hospitalized.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"feature cohort probability distribution",src:r(9249).Z,title:"Feature cohort probability distribution"})),(0,o.kt)("h2",{id:"feature-metrics-visualizations"},"Feature Metrics visualizations"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},'On the x-axis, click on the "Choose label" button.  Then select the "Precision score" metric.'),(0,o.kt)("li",{parentName:"ol"},"You see that the precision score for patients with ",(0,o.kt)("em",{parentName:"li"},"prior_inpatient < 3")," is 0.40, which is very bad. This means that all the predictions that the model made, only 40% were correct for this cohort. ")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"feature cohort precision",src:r(6821).Z,title:"Feature cohort precision score"})),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"The precision score for the other 2 cohorts are good."),(0,o.kt)("li",{parentName:"ol"},'Next, select "Recall score" metric for the x-axis.'),(0,o.kt)("li",{parentName:"ol"},"On the contrary, you'll see the recall score for patients with ",(0,o.kt)("em",{parentName:"li"},"prior_inpatient < 3")," is 0.013. Meaning, for a majority of patients in the test data, the model is having difficulty correctly predicting whether the patient will be readmitted within 30 days or not.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"feature cohort recall",src:r(3117).Z,title:"Feature cohort recall score"})),(0,o.kt)("p",null,"This lab shows how the traditional model performance metrics (e.g., accuracy, recall, confusion matrix etc) are still very important. By combining RAI insights and traditional performance metric, the dashboard gives us a wholistic tool to analyze and debug the model on a more granular level."),(0,o.kt)("hr",null),(0,o.kt)("p",null,"DISCLAIMER:  Microsoft products and services (1) are not designed, intended or made available as a medical device, and (2) are not designed or intended to be a substitute for professional medical advice, diagnosis, treatment, or judgment and should not be used to replace or as a substitute for professional medical advice, diagnosis, treatment, or judgment. Customers/partners are responsible for ensuring their solutions comply with applicable laws and regulations. Customers/partners also will need to thoroughly test and evaluate whether an AI tool is fit for purpose and identify and mitigate any risks or harms to end users associated with its use."))}d.isMDXComponent=!0},4169:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/5-feature-cohort-metrics-707f4fa54b2971c698144c4daba291f8.png"},6821:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/5-feature-cohort-precision-be0fd60368fb902ebab2c21e235a0ed7.png"},3117:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/5-feature-cohort-recall-6b48aa23ecf6a0b917760e041aaf53c1.png"},9249:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/5-prob-distri-not-readmit-066c402bbced53967f7f85d992152792.png"}}]);