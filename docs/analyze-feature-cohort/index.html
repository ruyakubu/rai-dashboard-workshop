<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/rai-dashboard-workshop/blog/rss.xml" title="Azure Responsible AI dashboard workshop Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rai-dashboard-workshop/blog/atom.xml" title="Azure Responsible AI dashboard workshop Blog Atom Feed"><title data-react-helmet="true">Analyze feature cohorts | Azure Responsible AI dashboard workshop</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://github.com/rai-dashboard-workshop/docs/analyze-feature-cohort"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Analyze feature cohorts | Azure Responsible AI dashboard workshop"><meta data-react-helmet="true" name="description" content="The RAI dashboard helps data scientist or AI developers examine the model performance across different cohorts within a given feature as well. Whether it is one feature, or a combination of two features, the RAI dashboard has built-in intelligence to divided feature values into various meaningful cohorts for users to do feature-based analysis and compare where the model is not doing well.  Since the cohort with the highest error has patients with the number of Prior_Inpatient &gt; 0 days and number of medications between 11 and 22 was where the model had a higher error rate, taking a closer look at the ‚ÄúPrior_Inpatient‚Äù and &quot;Num_medications‚Äù will help isolate where there are issues.  For this lab, we&#x27;ll only analyze &quot;Prior_Inpatient&quot;."><meta data-react-helmet="true" property="og:description" content="The RAI dashboard helps data scientist or AI developers examine the model performance across different cohorts within a given feature as well. Whether it is one feature, or a combination of two features, the RAI dashboard has built-in intelligence to divided feature values into various meaningful cohorts for users to do feature-based analysis and compare where the model is not doing well.  Since the cohort with the highest error has patients with the number of Prior_Inpatient &gt; 0 days and number of medications between 11 and 22 was where the model had a higher error rate, taking a closer look at the ‚ÄúPrior_Inpatient‚Äù and &quot;Num_medications‚Äù will help isolate where there are issues.  For this lab, we&#x27;ll only analyze &quot;Prior_Inpatient&quot;."><link data-react-helmet="true" rel="shortcut icon" href="/rai-dashboard-workshop/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://github.com/rai-dashboard-workshop/docs/analyze-feature-cohort"><link data-react-helmet="true" rel="alternate" href="https://github.com/rai-dashboard-workshop/docs/analyze-feature-cohort" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://github.com/rai-dashboard-workshop/docs/analyze-feature-cohort" hreflang="x-default"><link rel="stylesheet" href="/rai-dashboard-workshop/assets/css/styles.a39c77e9.css">
<link rel="preload" href="/rai-dashboard-workshop/assets/js/runtime~main.a40dbe2c.js" as="script">
<link rel="preload" href="/rai-dashboard-workshop/assets/js/main.90dbfbec.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rai-dashboard-workshop/"><img src="/rai-dashboard-workshop/img/page_logo.png" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/rai-dashboard-workshop/img/page_logo.png" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"></a><a class="navbar__item navbar__link navbar__link--active" href="/rai-dashboard-workshop/docs/welcome">Azure Machine Learning:  Responsible AI dashboard workshop</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ruyakubu/RAI-Diabetes-Hospital-Readmission-classification" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rai-dashboard-workshop/docs/welcome">Introduction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rai-dashboard-workshop/docs/prerequistes">Prerequisites</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Lab# 1:  Error Analysis</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Lab# 2: Model Analysis</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rai-dashboard-workshop/docs/analyze-dataset-cohort">Analyze dataset cohort</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rai-dashboard-workshop/docs/analyze-feature-cohort">Analyze feature cohorts</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Lab# 3: Data Analysis</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Lab# 5: Feature Importance</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rai-dashboard-workshop/docs/stop-compute">Shutdown</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Feature Cohort</h1></header><p>The RAI dashboard helps data scientist or AI developers examine the model performance across different cohorts within a given feature as well. Whether it is one feature, or a combination of two features, the RAI dashboard has built-in intelligence to divided feature values into various meaningful cohorts for users to do feature-based analysis and compare where the model is not doing well.  Since the cohort with the highest error has patients with the number of <em>Prior_Inpatient &gt; 0</em> days and number of medications between 11 and 22 was where the model had a higher error rate, taking a closer look at the <em>‚ÄúPrior_Inpatient‚Äù</em> and <em>&quot;Num_medications‚Äù</em> will help isolate where there are issues.  For this lab, we&#x27;ll only analyze <em>&quot;Prior_Inpatient&quot;</em>.  </p><ol><li>Click on the Feature Cohorts tab.</li><li>Under the &quot;Feature(s)&quot; drop-down menu, scroll down the list and select the &quot;prior_inpatient&quot; checkbox. This will display 3 different feature cohorts and the model performance metrics.</li></ol><p><img alt="feature cohort metrics" src="/rai-dashboard-workshop/assets/images/5-feature-cohort-metrics-707f4fa54b2971c698144c4daba291f8.png" title="Feature cohort metrics"></p><ol start="3"><li>The <em>prior_inpatient &lt; 3</em> cohort has a sample size of 943. This means a majority of patients in the test data were hospitalized less than 3 times in the past. The model&#x27;s accuracy rate for this cohort is 0.838, which is good. </li><li>Only 39 patients from the test data fall in the <em>prior_inpatient ‚â• 3 and &lt; 6</em> cohort. The model&#x27;s accuracy rate is 0.692, which is not good. </li><li>Lastly, just 12 patients from the test data have a prior hospitalization greater than or equal to 6 days. The model accuracy of 0.75 for this cohort is ok.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="feature-probability-distribution"></a>Feature probability distribution<a class="hash-link" href="#feature-probability-distribution" title="Direct link to heading">#</a></h2><p>Similar to the Dataset cohort, you have the ability to view the ‚ÄúProbability Distribution‚Äù. </p><ol><li>You can see that the lesser the diabetic patient‚Äôs number of prior_inpatient hospitalizations, the more likely the patient was not going to be readmitted in 30 days. This makes sense, because if a patient is more prone to be hospitalized in the past, it‚Äôs fair to assume that they get sick a lot which requires them to get hospitalized.</li></ol><p><img alt="feature cohort probability distribution" src="/rai-dashboard-workshop/assets/images/5-prob-distri-not-readmit-066c402bbced53967f7f85d992152792.png" title="Feature cohort probability distribution"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="feature-metrics-visualizations"></a>Feature Metrics visualizations<a class="hash-link" href="#feature-metrics-visualizations" title="Direct link to heading">#</a></h2><ol><li>On the x-axis, click on the &quot;Choose label&quot; button.  Then select the &quot;Precision score&quot; metric.</li><li>You see that the precision score for patients with <em>prior_inpatient &lt; 3</em> is 0.40, which is very bad. This means that all the predictions that the model made, only 40% were correct for this cohort. </li></ol><p><img alt="feature cohort precision" src="/rai-dashboard-workshop/assets/images/5-feature-cohort-precision-be0fd60368fb902ebab2c21e235a0ed7.png" title="Feature cohort precision score"></p><ol start="3"><li>The precision score for the other 2 cohorts are good.</li><li>Next, select &quot;Recall score&quot; metric for the x-axis.</li><li>On the contrary, you&#x27;ll see the recall score for patients with <em>prior_inpatient &lt; 3</em> is 0.013. Meaning, for a majority of patients in the test data, the model is having difficulty correctly predicting whether the patient will be readmitted within 30 days or not.</li></ol><p><img alt="feature cohort recall" src="/rai-dashboard-workshop/assets/images/5-feature-cohort-recall-6b48aa23ecf6a0b917760e041aaf53c1.png" title="Feature cohort recall score"></p><p>This lab shows how the traditional model performance metrics (e.g., accuracy, recall, confusion matrix etc) are still very important. By combining RAI insights and traditional performance metric, the dashboard gives us a wholistic tool to analyze and debug the model on a more granular level.</p><hr><p>DISCLAIMER:  Microsoft products and services (1) are not designed, intended or made available as a medical device, and (2) are not designed or intended to be a substitute for professional medical advice, diagnosis, treatment, or judgment and should not be used to replace or as a substitute for professional medical advice, diagnosis, treatment, or judgment. Customers/partners are responsible for ensuring their solutions comply with applicable laws and regulations. Customers/partners also will need to thoroughly test and evaluate whether an AI tool is fit for purpose and identify and mitigate any risks or harms to end users associated with its use.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/docs/lab2-model-overview/analyze-feature-cohort.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/rai-dashboard-workshop/docs/analyze-dataset-cohort"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Analyze dataset cohort</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/rai-dashboard-workshop/docs/data-analysis-table-view"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data Analysis Table view ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#feature-probability-distribution" class="table-of-contents__link">Feature probability distribution</a></li><li><a href="#feature-metrics-visualizations" class="table-of-contents__link">Feature Metrics visualizations</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/rai-dashboard-workshop/docs/welcome">Lab</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/azureadvocates" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ruyakubu/RAI-Diabetes-Hospital-Readmission-classification" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/rai-dashboard-workshop/assets/js/runtime~main.a40dbe2c.js"></script>
<script src="/rai-dashboard-workshop/assets/js/main.90dbfbec.js"></script>
</body>
</html>